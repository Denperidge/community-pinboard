# Community Pinboard
A public event pinboard webapp for your local community, meant to be even lighter on the client devices than on the server!

## How-to
### Install & run
Pre-requirements: [node.js](https://nodejs.org/en), [yarn](https://yarnpkg.com/getting-started/install)

```bash
# Clone the repository, navigate to it and install dependencies
git clone https://github.com/Denperidge/community-pinboard.git
cd community-pinboard
yarn install

yarn build  # Build to dist/
yarn prod  # Run from dist/
```
(Alternative use `yarn dev` for live-reload development, or check the other scripts defined in [package.json](package.json))

### Configuration/environment variables
For customisation, please set the environment variables in your shell, docker-compose or a .env file in the root directory (the same directory this file, [README.md](README.md) is in)

For all configuration options, please refer to [Reference: Environment variables](#environment-variables).


### Run Docker (pull image)

### Run Docker (build image)
```bash
# Build image
git clone https://github.com/Denperidge/community-pinboard.git
cd community-pinboard
docker build -t denperidge/community-pinboard .

# Run image
docker run -p 3000:3000 denperidge/community-pinboard
```
You can now access the 

### Run Docker-Compose


## Reference
### Environment variables
| Key                 | Explanation | default |
| ------------------- | ----------- | ------- |
| HOST_DOMAIN | Which domain the website/server will be reachable on | `localhost:3000` |
| DATA_DIR | Where to store data uploaded by users | `data/` | 
| WEBSITE_TITLE | The title for your website, displayed in HTML, OpenGraph, [views/index](views/index.pug) h1 | `Community Pinboard!` |
| WEBSITE_DESCRIPTION | The description for your website, displayed in OpenGraph | `A public event pinboard for your local community!` |

### Project structure
- [app/](app/): Custom back-end code. Routing, saving pins to disk, the Pin class etc.
- [bin/](bin/): auto-generated by `express-generator`, used as entrypoint. Leave unmodified unless specifically required
- *data/*: auto-generated in runtime. Stores pin.json files, uploads... 
- [public/](public/): front-end assets that do not get processed. Client-side CSS/JS, fonts, images...
- [styles/](styles/): [scss](https://sass-lang.com/) files that will be transpiled to *public/stylesheets/style.css* (auto-generated in runtime)
- [views/](views/): front-end html templates, written in [Pug](https://pugjs.org/api/getting-started.html)
- [.dockerignore](.dockerignore): Which files are ignored by [Dockerfile](Dockerfile)
- [.gitignore](.gitignore): Which files are ignored by git/version control
- [app.ts](app.ts): auto-generated by `express-generator`. Ignore unless specifically required
- [Dockerfile](Dockerfile): file used to build a [Docker image](https://docs.docker.com/reference/dockerfile/)
- [LICENSE](LICENSE): license details.
- [package.json](package.json): package info. Stores startup scripts (`yarn start`), dependencies...
- [README.md](README.md): this file!
- [tsconfig.json](tsconfig.json): [TypeScript config file](https://www.typescriptlang.org/tsconfig)
- [yarn.lock](yarn.lock): auto-generated by yarn, updates when npm packages are added/removed

## Notice
The non-edited post-it SVG is from Openclipart, licensed under the Public Domain. [More information on the SVG can be found here](https://publicdomainvectors.org/en/free-clipart/Note-paper/44863.html).

The current (placeholder) background is from the [Nookipedia assets page](https://nookipedia.com/wiki/Nookipedia:Assets).

The cork.jpg material is...
- Created using `Cork001` from ambientCG.com,
  licensed under the Creative Commons CC0 1.0 Universal License.
- Modified by @hynet-mel.

## License
This project is licensed under the [MIT License](LICENSE).
